### Spring 강의 8일차
#### 비즈니스 요구사항 설꼐
* 회원
  *  회원을 가입하고 조회할 수 있다.
  *  회원은 일반과 VIP 두 가지 등급이 있다.
  *  회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다.(미확정)
*  주문과 할인 정책
  * 회원은 상품을 주문할 수 있다.
  * 회원 등급에 따라 할인 정책을 적용할 수 있다.
  * 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용해달라. (추후 변경 가능 )
  * 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 있다. (미확정 상태)

* 요구사항을 보면 회원 데이터, 할인 정책 같은 부분은 지금 결정하기 어려운 부분이다. 그렇다고 이런 정책이 결정될 때 까지 개발을 무기한 기다릴 수 도 없다. 
* 인터페이스를 만들고, 구현체를 언제든지 갈아끼울수 있도록 설계한다.


#### 회원 도메인 협력 설계
* 클라이언트 -> 회원 서비스( 회원가입, 회원조회 ) -> 회원 저장소.
* `메모리`, `DB`, `외부 시스템 연동` 회원 저장소 -> 회원 저장소
* 인터페이스로 구현
* 

#### 회원 도메인 설계의 문제점
* 다른 저장소로 변경할 때 OCP 원칙을 잘 준수하는가?
* DIP를 잘 지키고 있는가?
* **의존관계가 인터페이스 뿐만 아니라, 구현까지 모두 의존하는 문제점이 존재한다.**


### 주문 도메인 설계
1. 주문 생성: 클라이언트는 주문 서비스에 주문 생성을 요청한다.
2. 회원 조회: 할인을 위해서는 회원 등급이 필요하다. 즉, 주문 서비스는 회원 저장소에서 회원을 조회한다.
3. 할인 적용: 주문 서비스는 회원 등급에 따른 할인 여부를 할인 정책에 위임한다.
4. 주문 결과 반환: 주문 서비스는 할인 결과를 포함한 주문 결과를 반환한다.

