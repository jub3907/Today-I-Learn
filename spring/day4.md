## day4. Spring 강의 4일차

### 스프링 DB 접근 기술 - Jdbc
#### H2 데이터베이스 설치
> https://www.h2database.com/html/download.html
```
drop table if exists member CASCADE;
create table member
(
   id bigint generated by default as identity,
   name varchar(255),
   primary key (id)
);
```

#### 순수 JDBC
* bundle.gradle 파일에 jdbc, h2 데이터베이스 관련 라이브러리 추가
```JAVA
implementation 'org.springframework.boot:spring-boot-starter-jdbc'
runtimeOnly 'com.h2database:h2'
```

* 스프링 부트 데이터베이스 연결 설정 추가
> resources/application.properties
```JAVA
spring.datasource.url=jdbc:h2:tcp://localhost/~/test
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
```

#### JPA
* 객체와 ORM
* JPA는 기존의 반복 코드는 물론이고, 기본적인 SQL도 JPA가 직접 만들어서 실행해준다.
* JPA를 사용하면, SQL과 데이터 중심의 설계에서 객체 중심의 설계로 패러다임을 전환을 할 수 있다.
* JPA를 사용하면 개발 생산성을 크게 높일 수 있다
* Entity 애노테이션을 통해 Mapping
* JPA를 쓰려면 Entity Manager를 주입 받아야 한다.
* JPA를 쓰려면 데이터를 변경하기 위해 Transactional 애노테이션 안에서 실행되어야 한다. ( Service 계층 )

#### 스프링 데이터 JPA
> 스프링 부트와 JPA만 사용해도 개발 생산성이 정말 많이 증가하고, 개발해야할 코드도 확연히 줄어듭니다. 
여기에 스프링 데이터 JPA를 사용하면, 기존의 한계를 넘어 마치 마법처럼, 리포지토리에 구현 클래스 없이
인터페이스 만으로 개발을 완료할 수 있습니다. 그리고 반복 개발해온 기본 CRUD 기능도 스프링 데이터
JPA가 모두 제공합니다.
스프링 부트와 JPA라는 기반 위에, 스프링 데이터 JPA라는 환상적인 프레임워크를 더하면 개발이 정말
즐거워집니다. 지금까지 조금이라도 단순하고 반복이라 생각했던 개발 코드들이 확연하게 줄어듭니다. 
따라서 개발자는 핵심 비즈니스 로직을 개발하는데, 집중할 수 있습니다.
실무에서 관계형 데이터베이스를 사용한다면 스프링 데이터 JPA는 이제 선택이 아니라 필수 입니다.

* 스프링 데이터 JPA는 기본적인 CRUD 기능을 모두 제공.
* 페이징 기능 자동 제공
* 단순한 쿼리는 인터페이스의 메소드 이름만으로 전부 해결할 수 있다.

* 단, JPA를 모르고 사용한다면 발생할 수 있는 여러가지 이슈를 해결할 수 없으므로, JPA를 공부하는 것이 선결 조건.


